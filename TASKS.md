# Sugestões de Tarefas

- **Corrigir erro de digitação:** Ajustar a definição de `ordering_fields` em `ReminderViewSet` para remover a aspa dupla perdida e deixar a lista bem formada. Hoje a linha usa `['scheduled_for", "minutes_before']`, o que quebra o carregamento do módulo por conta do erro de digitação na aspa inicial de `scheduled_for`. (Arquivo: `scheduler/views.py`, linha 54.)
- **Corrigir bug:** Revisar o método `export_ics` para escapar corretamente as aspas simples dentro dos f-strings. As linhas que produzem `DTSTAMP`, `DESCRIPTION` e `LOCATION` usam aspas simples tanto na f-string quanto dentro das expressões (`'%Y%m%dT%H%M%S'`, `''`), o que gera `SyntaxError` e impede o servidor de subir. (Arquivo: `scheduler/views.py`, linhas 37-43.)
- **Ajustar comentário/documentação:** Atualizar o comentário em `Event.clean` que diz "normaliza para dia inteiro (opcional)". Na prática, sempre que `is_all_day` é verdadeiro os horários são normalizados, portanto o comentário gera expectativa errada de configuração opcional. (Arquivo: `scheduler/models.py`, linhas 30-33.)
- **Melhorar teste:** No teste `test_due_reminder_sends_email_and_logs`, validar explicitamente o contador retornado por `check_due_reminders()` (por exemplo, `result['sent'] == 1`). Atualmente só se verifica o tipo do retorno, deixando de garantir que a task está contabilizando envios corretamente. (Arquivo: `scheduler/tests/test_e2e.py`, linhas 87-104.)
